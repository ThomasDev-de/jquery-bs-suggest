<!doctype html>
<html lang="en" class="h-100">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Demo</title>
    <link href="../vendor/twbs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark h-100">
<div class="container bg-white py-5 h-100">
    <h1 class="border-bottom pb-2">jQuery - selectSuggest</h1>
    <form autocomplete="off">
        <div class="d-flex align-items-end">
            <div class="p-3">
                <div class="mb-3">
                    <label class="form-label" for="input_select_countries">Which European country would you like to travel to?</label>
                    <input id="input_select_countries" type="hidden" name="country_id" data-bs-toggle="suggest" autocomplete="false"
                           data-bs-target="./actions.php">
                </div>
                <label class="form-label" for="input_select_countries_2">Which European country would you like to travel to?</label>
                <input id="input_select_countries_2" type="hidden" name="country_id2" data-bs-toggle="suggest" autocomplete="false"
                       data-bs-target="./actions.php">
            </div>
            <div class="p-3">
                <button type="button" class="btn btn-info js-btn-set" data-id="1">set Germany</button>
                <button type="button" class="btn btn-info js-btn-set" data-id="5">set Switzerland</button>
                <button type="button" class="btn btn-info js-btn-set" data-id="">set null</button>
            </div>
        </div>
        <div class="p-3">
            <button type="submit" class="btn btn-success">Senden</button>
        </div>
    </form>
</div>
<script src="../vendor/components/jquery/jquery.min.js"></script>
<script src="../vendor/twbs/bootstrap/dist/js/bootstrap.bundle.js"></script>
<script src="../dist/jquery.bsSelectSuggest.js"></script>
<script>
    (function ($) {
        $('body')
            .on('submit', 'form', function (e) {
                e.preventDefault();
                alert($('form').serialize());
            })
            .on('click', '.js-btn-set', function (e) {
                $('[name="country_id"]').suggest('val', $(e.currentTarget).data('id'));
                $('[name="country_id2"]').suggest('val', $(e.currentTarget).data('id'));
            })
        $('[name="country_id"]').suggest({
            limit: 100,
            typingInterval: 400,
            darkMenu: true,
            btnWidth: '400px',
            btnClass: 'btn btn-outline-secondary',
            searchPlaceholderText: "Search by country",
            emptyText: 'Please choose a country',
            waitingForTypingText: 'Waiting for typing',
            typingText: 'typing..',
            loadingText: 'Loading..',
        });
        $('[name="country_id2"]').suggest({
            limit: 100,
            typingInterval: 400,
            darkMenu: true,
            btnWidth: 'fit-content',
            btnClass: 'btn btn-primary',
            searchPlaceholderText: "Search by country",
            emptyText: 'Please choose a country',
            waitingForTypingText: 'Waiting for typing',
            typingText: 'typing..',
            loadingText: 'Loading..',
        });
    }(jQuery));
</script>
</body>
</html>
